Drools KIE Server showcase Docker image
=======================================

Drools KIE Server showcase [Docker](http://docker.io/) image.

More information of KIE Server available at [JBoss documentation](http://docs.jboss.org/drools/release/7.24.0.Final/drools-docs/html_single/#_ch.kie.server).

Table of contents
------------------

* Introduction
* Usage
* Users and roles
* Logging
* Extending this image
* Experimenting
* Notes
* Release notes

Introduction
------------

The image contains: 
              
* JBoss Wildfly 14.0.1.Final
* JBoss Drools KIE Server 7.24.0.Final

This is a **ready to run Docker image for Drools KIE Server**. Just run it and try the Drools runtime execution server!        

This image use UBI7 base image provided by EA Team @ Dedalus, that meet all the OpenShift requirements.

The repository has intended to be used with Docker, Podman (for containerization or podification), Docker Compose (see the docker-compose.yml file), K8S or OpenShift and it has been tested for all these platforms.


Usage
-----

The JBoss KIE Execution server is intended to be used as a standalone runtime execution environment managed by a KIE Drools Workbench or a jBPM Workbench application that acts as a controller.             

Once having a KIE Drools Workbench or a jBPM Workbench application container running, you can run several execution server instances linked with your workbench by running:                                 
    
    # NOTE: Consider 'drools-wb' as the name of your Drools workbench running container.     
    docker run -p 8180:8080 -d --name kie-server --link drools-wb:kie-wb jboss/kie-server-showcase:latest

Note: Port `8180` is bind to port `8180` on the docker host considering that `drools-wb` container is already using it.         
 
As in the above example, the use of the link alias `kie-wb` produces:               
  
* Use of your `drools-wb` container as the controller for the execution server.                     
* The repository in the Maven settings, for consuming your artifacts from the `drools-wb` container, is automatically set.                    

So at the point the execution server container is up and running, this server instance will be automatically detected and available in your Drools/jBPM Workbench application, so you can deploy and run your application rules, etc into it.                 

For more information, please read the documentation at [Installing the KIE Server](http://docs.jboss.org/drools/release/7.24.0.Final/drools-docs/html_single/#_installing_the_kie_server).

Once container and web applications started, the application is available at:              

    http://localhost:8180/kie-server

The **REST API service** is located at:               

    http://localhost:8180/kie-server/services/rest/server/

Users and roles
----------------

This image provides a default user `kieserver` using password `kieserver1!` and with the role `kie-server`.                      

Logging
-------

You can see all logs generated by the `standalone` binary running:

    docker logs [-f] <container_id>
    
You can attach the container by running:

    docker attach <container_id>

The Drools KIE Server web application logs can be found inside the container at path:

    /opt/jboss/wildfly/standalone/log/server.log

    Example:
    sudo nsenter -t $(docker inspect --format '{{ .State.Pid }}' $(docker ps -lq)) -m -u -i -n -p -w
    -bash-4.2# tail -f /opt/jboss/wildfly/standalone/log/server.log
